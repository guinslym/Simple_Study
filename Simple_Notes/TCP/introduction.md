引言与底层技术.md
##协议##
协议(protocol)就是用以管理通信的一组规则。在计算机网络中，通信发生在不同的系统的实体之间，实体就是任何一种能够发送或接受信息的东西。但是，2个实体不能简单地将比特流发送给对方，并希望对方能够理解它。
要进行通信，这2个实体必须达成1种协议。协议定义了要通信的是什么，怎么进行通信，以及何时进行通信。协议的3个关键要素就是语法、语义和时序。

1. 语法：语法就是数据的结构或格式,也就是数据呈现的顺序。比如,简单的协议可以规定数据的前8位是发送器的地址，第2个8位是接收器的地址，剩下的数据流则是报文自身。数据在存储和传输时的比特顺序也是1种数据顺序。不同的计算机在存储数据时的比特顺序可能不同，当这些计算机相互通信时，必须要解决此类分歧。
2. 语义:语义是指每1段比特流分别表示什么意思。1个特定的位模式应怎样解释？基于这样的解释又该采取什么行动？例如，同样的1个地址，它指的是下一步的路由呢？还是报文的终点呢？
3. 时序：时序涉及2个方面，数据应当在何时发送出去以及数据能够以多快的速度发送。例如,如果发送端产生的数据的速率是每秒100兆比特(Mbps),但接收端只能以1Mbps的速率处理数据，那么这样的传输将使接收端过载并导致数据大量丢失。

##TCP/IP协议簇的分层##
一条链路(link)就是允许1组计算机相互通信的1个网络。
###物理层###
在物理层,TCP/IP没有定义任何特定的协议。它支持所有标准的和专用的协议。在这一层,通信发生在2跳或2个结点之间，可能是计算机，也可能是路由器。
物理层的通信单位是比特。
###数据链路层###
TCP/IP没有为数据链路层定义任何特定的协议。它支持所有标准的和专用的协议。在这一层,通信仍然发生在2跳或2个结点之间,不过通信的单位却是称为帧的分组。
1个帧就是封装了来自网络层的数据的分组,并为其附加1个首部,有时还要再加1个尾部。
在首部中，除了一些在通信时需要用到的信息之外，最主要的是包含了这个帧的源地址和目的地址。
###网络层###
在网络层(或者更准确地说是互联网层),TCP/IP支持的是网际协议。
网际协议(IP,Internet Protocol)是TCP/IP协议使用的传输机制。IP传输的是称为数据报(datagram)的分组,每个数据报独立传输。
不同的数据报可以走不同的路由,也可能不按顺序地到达,也可能会重复。IP不会跟踪记录这些数据报经过的路由,并且在它们达到终点后,IP也不具有按原顺序重排的能力。
需要注意的是,网络层上的通信是端到端的通信,而另外2个层上的通信是结点到结点的。
###运输层###
在运输层和网络层之间有一个重要区别,那就是网络中的所有结点都必须具有网络层,但只有2端的计算机上才需要运输层。
网络层负责将1个个数据报独立地从计算机A发送到计算机B,而运输层要负责将完整的报文(也称为报文段、用户数据报或分组)从计算机A交付给计算机B。
1个报文段可能包含了几个到几十个数据报。报文段先要被拆分为多个数据报,然后再将这些数据报分别递交给网络层来传输。
因为网际协议会为每个数据报指定不同的路由,所以这些数据报有可能会失序到达,也可能丢失。计算机B的运输层需要等所有数据报全部抵达后进行重装,从而得到报文段。
运输层的通信单位可以是报文段、用户数据报或者是分组，取决于运输层使用的具体洗容易。
###应用层###
TCP/IP中的应用层相当于OSI模型中的会话层、表示层和应用层的组合。应用层使用户能够获得网络所提供的服务,无论是此处所举的专用互联网还是全球因特网。
应用层的通信单位是报文。
##编址##
实施了TCP/IP协议的互联网需要用到4个级别的地址:物理地址(physical address)、逻辑地址(logical address)、端口地址(port address)、特定应用地址(application-specific address)。
###物理地址###
物理地址也称为链路地址,是由结点所在的局域网或广域网为该结点指定的地址。物理地址包含在数据链路层所使用的帧中。
绝大多数局域网使用48位(6字节)的物理地址,并携程12个16进制数字,每个字节(2个16进制数字)之间用1个冒号分隔开,例如`07:01:02:01:2C:4B`。
物理地址可以是单播(unicast,单个接收者)、多播(multicast,一组接收者)或广播(broadcast,由网络中的所有系统接受)。
###逻辑地址###
我们需要1种全局性的编址系统用以统一地标志每台主机,做到与底层的物理地址无关。逻辑地址就是为此而设计的。
目前,因特网上的逻辑地址是1个32位地址,可以用来唯一地标志连接在因特网上的每1台主机。在因特网上不存在2台具有相同IP地址的公开编址的实体主机。
物理地址逐跳而变,逻辑地址保持不变。
###端口地址###
TCP/IP中的端口地址长度是16位。如今的计算机是1种可以在同1时间运行多个进程的设备，为了能使这些进程能够同时接收数据,我们需要用1种方法对不同的进程打上标号。换言之,这些进程也需要有地址。
##有线局域网##
###单播、多播和广播地址###
以太网LAN网中发送的分组称为帧。以太网不提供任何机制来确认收到的帧,因此以太网是1种被称为不可靠的媒体。
源地址始终是单播地址，因为任何帧都只可能来自1个站。而目标地址则有可能是单播、多播或者广播地址。
如果目的地址的第1个字节的最低位是0,那么这个地址就是单播地址,反之则是多播地址。
单播地址仅指定了1个接收者,也就是说发送方和接收方之间是一对一关系。多播地址指定的是1组地址,也就说发送方和接收方之间是一对多的关系。
广播地址是多播地址的1种特殊形式,它的接收者是该局域网中的所有的站。1个广播目的地址就是由48个1形成的地址,例如`FF:FF:FF:FF:FF`。
