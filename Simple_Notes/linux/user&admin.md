用户和组管理.md
在Linux下,与组相关的管理文件主要是以下2个:

1. /etc/group
2. /etc/gshadow

而与用户相关的管理文件是以下2个:

1. /etc/passwd
2. /etc/shadow

同时,与组管理相关的命令有以下几个:

1. groupadd 组名          #添加组名
2. groupmod 组名          #修改组名
3. groupdel 组名          #删除组名
4. gpasswd [参数] 组名    #添加用户到组内

而与用户管理的命令,也对应有几个:

1. useradd [参数] 用户名
2. usermod [选项] 用户名
3. userdel [选项] 用户名
4. passwd [选项] 用户名

##/etc/group##
在这个文件中,我们可以看到每1行有4行,其每行意义如下所示:

- 第1行表示用户组的组名
- 第2行表示用户组的密码,这是之前版本遗留下来的用法。现在几乎不用,而真正的密码存储在/etc/gshadow中,提高了安全性。
- 第3行表示用户组的ID,这是用户组的唯一标识。其中0表示超级用户的组,1~499为系统用户组,而500后为用户自定义组。
- 第4行表示用户组内的成员

我们可以手动编辑该文件来添加用户到对应用户组内。ngh

##/etc/gshadow##
这个文件用于存储用户组的密码管理。可以看到每1行有4列,其每行意义如下所示:

1. 用户组的组名,与`/etc/group`文件的组名是一样的
2. 用户组的密码,是MD5加密后的密文。
3. 第3列是用户组的组管理员。
4. 第4列为用户组的组成员。

##/etc/passwd##
这个文件是用户的配置文件,每1行有7列,每列的意义如下所示:

1. 第1列为用户的名称,可以通过`useradd`命令添加到这里,同时也可以使用`usermod -l 用户名`来修改登陆时的用户名。
2. 第2列为用户的密码,这里仅有1个"x"占位,而真正的密码存储在`/etc/gpasswd`中。
3. 第3列为用户的ID,也可以称为UID。
4. 第4列为用户所属的组ID。
5. 第5列为用户的备注信息,可以在创建用户时使用`useradd -c 备注 用户名`来实现。
6. 第6列为用户的主目录地址,可以在创建用户时使用`useradd -d 主目录地址`来实现
7. 最后1列为shell类型,即用户可以执行的命令的路径,我们可以在这里设置用户禁止登陆系统。

##/etc/shadow##
这个文件是用户密码的配置文件,每1行只有2列,其意义如下:

1. 第1列用于用户的名称,名称与`/etc/passwd`一致。
2. 第2列为用户的密码,使用MD5加密处理。

