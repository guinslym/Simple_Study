<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>TOC树 &mdash; Sphinx 1.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Sphinx 1.2 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="top" title="Sphinx 1.2 documentation" href="../index.html" />
    <link rel="up" title="Sphinx标记结构" href="index.html" />
    <link rel="next" title="段落级标记" href="para.html" />
    <link rel="prev" title="Sphinx标记结构" href="index.html" />
 
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<img src="../_static/sphinx.png" alt="Sphinx logo" />
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="para.html" title="段落级标记"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Sphinx标记结构"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Sphinx主页</a>&nbsp;|&nbsp;</li>
        <li><a href="../contents.html">文档</a>
          &raquo;</li>

          <li><a href="index.html" accesskey="U">Sphinx标记结构</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">TOC树</a><ul>
<li><a class="reference internal" href="#id7">特殊名称</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Sphinx标记结构</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="para.html"
                        title="next chapter">段落级标记</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/markup/toctree.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="toc">
<span id="toctree-directive"></span><h1>TOC树<a class="headerlink" href="#toc" title="Permalink to this headline">¶</a></h1>
<p id="index-0">由于reST不便于多个文件相互关联或者分割文件到多个输出文件中，Sphinx通过使用自定义的指令（标识符）来处理构成文档的单个文件的关系，这同样使用与内容表。<tt class="docutils literal"><span class="pre">toctree</span></tt> 指令（标识符）就是核心要素。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">使用 <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#include">include</a> 指令（标识符）能够实现简单的一个文件在另一个文件的“包含”。</p>
</div>
<dl class="directive">
<dt id="directive-toctree">
<tt class="descname">.. toctree::</tt><a class="headerlink" href="#directive-toctree" title="Permalink to this definition">¶</a></dt>
<dd><p>该指令（标识符）使用在指令（标识符）主体中给出的文件作为单个TOCs(包含&#8221;sub-TOC树&#8221;)，在当前位置插入一个&#8221;TOC树&#8221;。相对文件名 ​​（不以斜杠开始）是相对于指令（标识符）所在文件，绝对名称是相对于源目录。一个数字的 <tt class="docutils literal"><span class="pre">maxdepth</span></tt> 选项表示的树的深度 。默认情况下，所有级别是包含的。 <a class="footnote-reference" href="#id8" id="id1">[1]</a></p>
<p>仔细看看下面这个例子 (来自于的Python文档库参考页):</p>
<div class="highlight-rst"><div class="highlight"><pre><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> <span class="nf">2</span>

   intro
   strings
   datatypes
   numeric
   (many more documents listed here)
</pre></div>
</div>
<p>这将会完成两件事情:</p>
<ul class="simple">
<li>所有这些文件的内容表被加入，最大的深度为2，这意味着一个嵌套标题。在这些文件中的 <tt class="docutils literal"><span class="pre">toctree</span></tt> 指令（标识符）也会被考虑到（识别）。</li>
<li>Sphinx知道文档  <tt class="docutils literal"><span class="pre">intro</span></tt>，<tt class="docutils literal"><span class="pre">strings</span></tt> 等等的顺序，当然也清楚它们是索引页的子页。通过这些信息能够生成“下一章”，“前一章”以及“主章节”的链接。</li>
</ul>
<p><strong>条目</strong></p>
<p>在 <a class="reference internal" href="#directive-toctree" title="toctree directive"><tt class="xref rst rst-dir docutils literal"><span class="pre">toctree</span></tt></a> 中的文件标题会自动读取自引用的文件。如果这不是你想要的，你可以通过使用一个类似于reST超链接的语法（ <a class="reference internal" href="inline.html#xref-syntax"><em>cross-referencing syntax</em></a> ）指定一个明确的标题和目标。这就像:</p>
<div class="highlight-rst"><div class="highlight"><pre><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>

   intro
   All about strings &lt;strings&gt;
   datatypes
</pre></div>
</div>
<p>上面的第二行，将链接到 <tt class="docutils literal"><span class="pre">strings</span></tt> 文件，但将使用的标题是“All about strings”，而不是 <tt class="docutils literal"><span class="pre">strings</span></tt> 文件的标题。</p>
<p>您还可以添加外部链接，使用一个HTTP地址，而不是一个文件名。</p>
<p><strong>章节编号</strong></p>
<p>如果你想要在HTML输出格式中有章节编号，可以在 rst:directive:: toctree 中添加 <tt class="docutils literal"><span class="pre">numbered</span></tt> 选项。例如:</p>
<div class="highlight-rst"><div class="highlight"><pre><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:numbered:</span>

   foo
   bar
</pre></div>
</div>
<p>编号开始于 <tt class="docutils literal"><span class="pre">foo</span></tt> 的标题。Sub-toctrees自动编号（不给Sub-toctrees <tt class="docutils literal"><span class="pre">numbered</span></tt> 的标志）。</p>
<p>编号到一个特定的深度也是可以的，给予深度为一个参数: <tt class="docutils literal"><span class="pre">numbered</span></tt> 。</p>
<p><strong>附加选项</strong></p>
<p>如果你想仅显示在树中的文件的标题，而不是其他的同级别的标题，你可以用 <tt class="docutils literal"><span class="pre">titlesonly</span></tt> 选项:</p>
<div class="highlight-rst"><div class="highlight"><pre><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:titlesonly:</span>

   foo
   bar
</pre></div>
</div>
<p>你可以在toctree指令（标识符）中使用“匹配”，使用 <tt class="docutils literal"><span class="pre">glob</span></tt> 选项。所有的条目都将进行匹配而不是直接按照列出的条目，匹配的结果将会按照字母表顺序插入。例如:</p>
<div class="highlight-rst"><div class="highlight"><pre><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:glob:</span>

   intro*
   recipe/*
   *
</pre></div>
</div>
<p>这将首先包含文件名开始是 <tt class="docutils literal"><span class="pre">intro</span></tt> 的文件，接着包含 <tt class="docutils literal"><span class="pre">recipe</span></tt> 文件夹下所有的文件，最后是剩余的文件（显然，不包含主指令（标识符）的文件。） <a class="footnote-reference" href="#id9" id="id2">[2]</a></p>
<p>特殊的条目 <tt class="docutils literal"><span class="pre">self</span></tt> 表示包含toctree指令（标识符）的文件。如果想要从toctree生成&#8221;sitemap&#8221;的话，这是非常有用的。</p>
<p>你也能使用“隐藏”选项，像这样:</p>
<div class="highlight-rst"><div class="highlight"><pre><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:hidden:</span>

   doc_1
   doc_2
</pre></div>
</div>
<p>这将仍然会告知Sphinx文档的层次结构，但是不会插入链接到指令（标识符）所在的文件&#8211;在不同风格或者HTML侧边栏，如果想要自己插入链接，这是非常有意义的。</p>
<p>最后，所有在 <em class="xref std std-term">源目录</em> （或者其子目录）必须出现在 <tt class="docutils literal"><span class="pre">toctree</span></tt> 中；如果发现文件不在 <tt class="docutils literal"><span class="pre">toctree</span></tt> 中，Sphinx将会抛出警告，因为这意味着，通过标准的导航，这个文件将是不可到达的。使用 <a class="reference internal" href="../config.html#confval-unused_docs"><tt class="xref std std-confval docutils literal"><span class="pre">unused_docs</span></tt></a> 明确构建时候忽略的文件，使用 <a class="reference internal" href="../config.html#confval-exclude_trees"><tt class="xref std std-confval docutils literal"><span class="pre">exclude_trees</span></tt></a> 明确构建时间忽略的目录。</p>
<p>&#8220;主文件&#8221; ( <a class="reference internal" href="../config.html#confval-master_doc"><tt class="xref std std-confval docutils literal"><span class="pre">master_doc</span></tt></a> )是TOC属结构的“根”。它能够被用于文件的主要页面，或者作为一个“完整的目录”如果你不给 <a href="#id3"><span class="problematic" id="id4">``</span></a>maxdepth` <a href="#id5"><span class="problematic" id="id6">`</span></a>的选项。</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.3: </span>添加 &#8220;globbing&#8221; 选项。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.6: </span>添加选项&#8221;numbered&#8221; 和 &#8220;hidden&#8221;，支持外部链接和&#8221;self&#8221;选项。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.0: </span>添加 &#8220;titlesonly&#8221; 选项。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.1: </span>添加编号选项参数&#8221;numbered&#8221;。</p>
</div>
</dd></dl>

<div class="section" id="id7">
<h2>特殊名称<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>Sphinx保留了一些供自己使用的文件名，你不应该试图创建具有这些名称的文件 - 这将导致问题。</p>
<p>特殊的文件名（和他们生成的页面名）是：</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">genindex</span></tt>, <tt class="docutils literal"><span class="pre">modindex</span></tt>, <tt class="docutils literal"><span class="pre">search</span></tt></p>
<p>这些都是分别用于总索引，Python模块索引，和搜索页。</p>
<p>总索引用于模块和所有的生成索引 <a class="reference internal" href="../domains.html#basic-domain-markup"><em>object descriptions</em></a> 的条目，以及 <a class="reference internal" href="misc.html#directive-index" title="index directive"><tt class="xref rst rst-dir docutils literal"><span class="pre">index</span></tt></a> 指令（标识符）。</p>
<p>Python模块索引包含了每一个 <a class="reference internal" href="../domains.html#directive-py:module" title="py:module directive"><tt class="xref rst rst-dir docutils literal"><span class="pre">py:module</span></tt></a> 指令（标识符）条目。</p>
<p>搜索页包含一个生成的JSON搜索索引和JavaScript的形式，它使用全文搜索在生成的文件中搜索关键词，它应该兼容每一个主要的浏览器，支持最新的JavaScript。</p>
</li>
<li><p class="first">以 <tt class="docutils literal"><span class="pre">_</span></tt> 开头的名称</p>
<p>尽管目前Sphinx只使用少数带 <tt class="docutils literal"><span class="pre">_</span></tt> 开头的名称，你应该不要创建这样的文件名或者目录名。</p>
</li>
</ul>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><tt class="docutils literal"><span class="pre">maxdepth</span></tt> 选项对LaTeX不起作用，内容始终是在文档的最前面，它的深度可以通过 <tt class="docutils literal"><span class="pre">tocdepth</span></tt> 来控制，你可以重设 <a class="reference internal" href="../config.html#confval-latex_preamble"><tt class="xref std std-confval docutils literal"><span class="pre">latex_preamble</span></tt></a> 配置值。例如：  <tt class="docutils literal"><span class="pre">\setcounter{tocdepth}{2}</span></tt>。</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>可用的匹配格式提示：你可以用标准的shell格式 <tt class="docutils literal"><span class="pre">*</span></tt>, <tt class="docutils literal"><span class="pre">?</span></tt>, <tt class="docutils literal"><span class="pre">[...]</span></tt> and <tt class="docutils literal"><span class="pre">[!...]</span></tt>。</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="para.html" title="段落级标记"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Sphinx标记结构"
             >previous</a> |</li>
        <li><a href="../index.html">Sphinx主页</a>&nbsp;|&nbsp;</li>
        <li><a href="../contents.html">文档</a>
          &raquo;</li>

          <li><a href="index.html" >Sphinx标记结构</a> &raquo;</li> 
      </ul>
    </div>
<div class="footer">
    <p>
 © Copyright 2007-2011, Georg Brandl. Created using
<a href="http://sphinx-doc.org/">Sphinx</a>
1.2. 

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?9adc7a1c86496c8e2bc61c4f8fc92d30";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<p><a href="http://www.miitbeian.gov.cn/">京ICP备14002119号-1</a></p>
<hr/>


<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- pythondoc 首页下方 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:970px;height:90px"
     data-ad-client="ca-pub-3421553373953599"
     data-ad-slot="6985889234"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


</div>




  </body>
</html>